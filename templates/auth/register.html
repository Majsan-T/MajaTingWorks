{% extends "base.html" %}
{% block title %}Registrera dig{% endblock %}

{% block content %}
<h2>Skapa konto</h2>

<div class="card shadow-sm mb-4">
  <div class="card-header bg-light">
    <strong><i class="bi bi-shield-check me-1"></i> Integritet & Cookies</strong>
  </div>
  <div class="card-body">
    <p class="mb-2">Den här webbplatsen lagrar endast tekniskt nödvändiga cookies:</p>
    <ul>
      <li><strong>Sessionscookie</strong> – håller dig inloggad och gör att kommentarer och prenumerationer fungerar.</li>
      <li><strong>CSRF-skydd</strong> – används vid formulär för att förhindra spam (lagras inte långvarigt).</li>
    </ul>
    <p class="mb-2">
      <strong>GDPR & användardata:</strong> Du kan radera eller anonymisera ditt konto när som helst.
    </p>
  </div>
</div>

<form method="POST">
  {{ form.hidden_tag() }}

  <div class="mb-3">
    {{ form.name.label(class="form-label") }}
    {{ form.name(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.email.label(class="form-label") }}
    {{ form.email(class="form-control") }}
  </div>

  <div class="mb-3">
    {{ form.password.label(class="form-label") }}
    {{ form.password(class="form-control") }}
  </div>

  <div class="mb-3">
    <label class="form-label">Välj roller:</label>
    {% for value, label in form.roles.choices %}
      <div class="form-check">
        <input class="form-check-input"
               type="checkbox"
               name="{{ form.roles.name }}"
               value="{{ value }}"
               id="role_{{ value }}"
               {% if form.roles.data and value in form.roles.data %}checked{% endif %}>
        <label class="form-check-label" for="role_{{ value }}">
          {{ label }}
        </label>
      </div>
    {% endfor %}
  </div>

  {{ form.submit(class="btn btn-primary") }}
</form>
{% endblock %}
